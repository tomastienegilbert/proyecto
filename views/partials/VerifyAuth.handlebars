{{#if requiereAuth}}
<script>
    // validamos que el token sea correcto
    async function verifyToken() {
        if (localStorage.getItem("token")) {
            try {
                await axios.post("/ingresos"); // 401
            } catch (error) {
                alert("Debes iniciar sesi√≥n para agregar canciones");
                location.href = "/ingreso;
            }
        } else {
            // si no existe el token, lo redireccionamos al login
            location.href = "/error";
        }
    }
    verifyToken();
</script>
{{/if}}